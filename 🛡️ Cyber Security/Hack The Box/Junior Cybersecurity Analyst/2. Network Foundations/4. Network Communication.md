2025-08-04 17:14

Status: #Finished 

Tags: [[networking]] [[cyber security]] [[fundamentals]] [[hack the box]]

 


# 🔄 Network Communication – MAC, IP, and Ports

Network communication relies on **3 key components**:
- **MAC Address** (Layer 2)
- **IP Address** (Layer 3)
- **Ports** (Layer 4)

Together, they enable accurate delivery of data across local and global networks.

---

## 🔌 MAC Address (Media Access Control)

- **Layer**: Data Link (Layer 2)
- **Format**: 48-bit, hex format → `00:1A:2B:3C:4D:5E`
- **Structure**:
  - First 24 bits = OUI (Manufacturer ID)
  - Last 24 bits = Device-specific
- **Purpose**: Identifies the **physical device** on a LAN

### 📍Example:
- Computer A (192.168.1.2) wants to send data to Computer B (192.168.1.5).
- Uses **ARP** to find B’s MAC address → sends frame to `00:1A:2B:3C:4D:5F`.
- Switch uses MAC address table to forward the frame to correct port.

---

## 🌍 IP Address (Internet Protocol)

- **Layer**: Network (Layer 3)
- **IPv4**: 32-bit → `192.168.1.1`
- **IPv6**: 128-bit → `2001:0db8:85a3:0000:0000:8a2e:0370:7334`
- **Purpose**: Identifies **logical address** of a device in the network
- **Routing**: Routers use IPs to decide packet’s best path

> 💡 IPs are flexible and can change based on network configuration (DHCP, Static, etc.)

---

## 🚪 Ports

- **Layer**: Transport (Layer 4)
- **Purpose**: Directs traffic to the correct service or process
- **Works with**: TCP & UDP
- **Total Range**: `0–65535`

| Range           | Type           | Example Use Cases                    |
|----------------|----------------|--------------------------------------|
| 0–1023         | Well-known     | HTTP (80), HTTPS (443), FTP (21)     |
| 1024–49151     | Registered     | SQL (1433), Custom apps              |
| 49152–65535    | Dynamic/Private| Client-side ephemeral ports          |

> Browsers use port **443** for secure HTTPS, and **80** for HTTP.

---

## 🌐 Internet Browsing Walkthrough

1. **DNS Resolution**: 
   - `example.com` → `93.184.216.34`

2. **Encapsulation**:
   - HTTP Request → Encapsulated with TCP header (Port 80)
   - IP Header → Destination IP = `93.184.216.34`
   - ARP → Resolves router’s MAC

3. **Transmission**:
   - Packet sent to router’s MAC
   - Router forwards packet based on IP → hops across networks

4. **Server Receives**:
   - Directed to port 80 on the server
   - Server processes and replies

5. **Response Returns**:
   - Response sent back to client’s **dynamic port**
   - Travels reverse path to user’s browser

---

## 🧠 TL;DR Summary

- **MAC**: Physical device ID on LAN (unchanging)
- **IP**: Logical address for routing across networks (changeable)
- **Port**: Directs traffic to correct app/service (e.g., web, mail)
- Together, they **deliver data accurately** across local & global systems.


## References



