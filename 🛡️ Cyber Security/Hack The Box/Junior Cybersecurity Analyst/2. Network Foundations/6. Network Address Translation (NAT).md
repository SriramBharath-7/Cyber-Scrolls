2025-08-04 19:27

Status: #Finished 

Tags: [[networking]] [[fundamentals]] [[cyber security]] [[hack the box]] 


# üîÅ Network Address Translation (NAT)

## üåê What is NAT?

- **Network Address Translation (NAT)** is a technique where a router modifies **source or destination IP addresses** in a packet's header.
- It allows multiple **private IP addresses** to share **one public IP** for accessing the internet.
- Helps **conserve IPv4 addresses** and provides a basic layer of **security**.

---

## üîí Public vs. Private IP Addresses

| Type        | Description                                                                 |
|-------------|-----------------------------------------------------------------------------|
| **Public IP**  | Globally unique, routable on the internet. Example: `8.8.8.8` (Google DNS).   |
| **Private IP** | Used within local networks. Not routable online. Example: `192.168.x.x`.     |

- **Private Ranges (RFC 1918)**:
  - `10.0.0.0 ‚Äì 10.255.255.255`
  - `172.16.0.0 ‚Äì 172.31.255.255`
  - `192.168.0.0 ‚Äì 192.168.255.255`

---

## üõ†Ô∏è How NAT Works (Step-by-Step)

1. **Local Device** (e.g., Laptop `192.168.1.10`) sends a request to the internet.
2. **Router** replaces the source IP with its **public IP** (`203.0.113.50`) and assigns a unique port.
3. Packet travels to the destination server (e.g., `www.google.com`).
4. Server responds to `203.0.113.50:<port>`.
5. Router looks up the NAT table and sends the reply to the **correct internal device**.

> üîÅ NAT Table Example:  
> `203.0.113.50:4444` ‚ûù `192.168.1.10:5555`

---

## üîÑ Types of NAT

| Type                               | Description                                                                                                         |
| ---------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| **Static NAT**                     | One-to-one mapping between a private and public IP address.                                                         |
| **Dynamic NAT**                    | Maps private IPs to any available public IP from a **pool**.                                                        |
| **PAT** (Port Address Translation) | Many private IPs share one public IP using **different ports**. Also called **NAT Overload**. Most common in homes. |

---

## ‚úÖ Benefits

- Conserves **IPv4 address space**.
- Adds **security** by hiding internal IPs.
- Offers **flexibility** in internal IP management.

---

## ‚ö†Ô∏è Trade-Offs

- **Hosting servers** behind NAT requires **port forwarding**.
- Breaks some protocols needing **end-to-end** connectivity.
- Adds **complexity** to debugging and configuration.

---

## üß† TL;DR Summary

- NAT is essential for **address conservation** and **security**.
- Enables multiple devices to share one IP.
- Uses a **translation table** to manage connections.
- Most common implementation: **PAT/NAT Overload** in home networks.

## References



