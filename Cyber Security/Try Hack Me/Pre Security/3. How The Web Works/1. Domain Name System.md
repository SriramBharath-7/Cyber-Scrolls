2025-08-06 17:18

Status: #Finished 

Tags: [[tryhackme]] [[cyber security]] [[fundamentals]] 


# ğŸŒ DNS (Domain Name System) â€“ Full Study Notes (THM + HTB)

---

## ğŸ“Œ What is DNS?

- DNS = Domain Name System  
- Think of DNS like the **Internetâ€™s phonebook**  
- It translates **domain names** (like `tryhackme.com`) into **IP addresses** (like `104.26.10.229`)  
- Helps us avoid remembering complex IP addresses  
- Every device on the internet has a **unique IP** (IPv4 or IPv6)  

---

## ğŸ›ï¸ Domain Hierarchy

```
Root (.)  
â””â”€â”€ TLD (.com, .org, .uk)  
â””â”€â”€ Second-Level Domain (e.g., tryhackme)  
â””â”€â”€ Subdomain (e.g., admin.tryhackme.com)
```

### ğŸ” TLD (Top-Level Domain)

- Rightmost part of the domain (`.com`, `.org`, `.uk`)
- **Types:**
  - `gTLD` â€“ Generic (e.g. `.com`, `.org`, `.net`)
  - `ccTLD` â€“ Country-specific (e.g. `.uk`, `.ca`)
- Over 2000 TLDs exist today

### ğŸ§¬ Second-Level Domain

- Part before the TLD (e.g., `tryhackme` in `tryhackme.com`)
- Rules:
  - Max: 63 characters  
  - Allowed: `a-z`, `0-9`, `-`  
  - Can't start/end with `-` or have `--` in the middle

### ğŸ§± Subdomain

- Comes **before** the Second-Level Domain (e.g., `admin.tryhackme.com`)
- Can be nested: `jupiter.servers.tryhackme.com`
- Limit: Total domain length must be â‰¤ 253 characters
- No limit on number of subdomains

---

## ğŸ§¾ DNS Record Types

| Record | Function |
|--------|----------|
| **A**     | Maps to an **IPv4** address (e.g., `104.26.10.229`) |
| **AAAA**  | Maps to an **IPv6** address |
| **CNAME** | Points to another **domain name**, not IP |
| **MX**    | Mail exchange â€“ directs to mail servers |
| **TXT**   | Stores free-form text (SPF, domain verification, etc.) |

---

## ğŸ›°ï¸ DNS Resolution Process (Step-by-Step)

1. **Browser Checks Local DNS Cache**
   - If found, returns cached IP
2. **If not found: Query Recursive DNS Resolver**
   - Usually provided by ISP (or custom DNS like `8.8.8.8`)
3. **Recursive DNS Queries Root DNS Server**
   - Root server points to correct **TLD server** (e.g., `.com`)
4. **TLD DNS Server â†’ Authoritative Name Server**
   - e.g., `kip.ns.cloudflare.com` â†’ provides final record
5. **DNS Response Travels Back**
   - Authoritative server â†’ TLD server â†’ Recursive Resolver â†’ Your device
6. **Result is Cached with TTL**
   - Speeds up future lookups

---

## â± TTL (Time To Live)

- A value (in seconds) attached to each DNS record  
- Determines how long a record stays cached  
- Reduces DNS lookup load  

---

## ğŸŒ IP Addresses & Why DNS Matters

- IP = Internet Protocol address  
- IPv4 Example: `104.26.10.229`  
- IPv6 Example: `2606:4700:20::681a:be5`  
- Humans use domain names â†’ DNS translates to IPs â†’ Internet uses IPs  

---

## ğŸ›¡ï¸ DNS Use Beyond Websites

- **Email Delivery** â†’ uses `MX` records  
- **Security & Verification** â†’ uses `TXT` (e.g., SPF/DKIM/DMARC)
- **CDNs & Load Balancing** â†’ uses `CNAME`, dynamic `A` records

---

## ğŸ“¡ DNS Servers

| Type | Description |
|------|-------------|
| **Root DNS Servers** | The starting point, redirects to TLD servers |
| **TLD Servers** | Maintain records for each domain extension (e.g., `.com`, `.org`) |
| **Authoritative Name Servers** | Store actual DNS records for domains |
| **Recursive Resolvers** | Intermediary server that handles full DNS lookups for your device |

---

## ğŸ” DNS Recap with Analogy

1. **You enter `tryhackme.com`**
2. Your system â†’ checks local DNS cache
3. If not found â†’ asks Recursive Resolver (e.g., ISPâ€™s DNS)
4. Resolver â†’ Root Server â†’ TLD (.com) â†’ Authoritative Server
5. IP (e.g., `104.26.10.229`) is returned
6. You connect to the website

ğŸ’¡ Think of it like mailing a letter:
- You write the address (domain)
- Your local post office (DNS resolver) routes it through layers (root â†’ TLD â†’ domain)
- The final destination is reached with the exact location (IP)

---

## ğŸ”§ Bonus Tips

- Change your DNS settings to:
  - **Google DNS:** `8.8.8.8`, `8.8.4.4`
  - **Cloudflare DNS:** `1.1.1.1`, `1.0.0.1`
  - **OpenDNS:** `208.67.222.222`, `208.67.220.220`
- Use `nslookup`, `dig`, or `host` command-line tools to test DNS manually

---

ğŸ¯ **End of DNS Notes**  
âœ¨ Mastering DNS is foundational for ethical hackers, penetration testers, and defenders alike!


## References



